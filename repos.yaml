# =============================================================================
# repos.yaml — Atlantis SERVER-SIDE repository configuration
#
# This is the "admin layer" — controls what repos are allowed to configure
# in their own atlantis.yaml files.
#
# repos.yaml = server operator policy
# atlantis.yaml = per-repo developer config (within policy)
# =============================================================================

repos:
  # Applies to ALL repositories connected to this Atlantis instance.
  - id: /.*/

    allowed_overrides:
      - workflow            # repos may define custom workflow names
      - apply_requirements  # repos may set their own approval gates

    # Must be true for repos to use `run:` shell steps in workflows.
    allow_custom_workflows: true

    # KICS scan is enforced as step 1 of every plan workflow in atlantis.yaml.
    # Results are posted as PR comments. No pre_workflow_hooks needed here.
